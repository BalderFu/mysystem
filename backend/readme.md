# 密码学算法系统设计与实现

## 项目概述

本项目是一个基于Spring Boot的密码学算法系统，主要实现了各种常见的哈希算法（如MD5、SHA1、SHA256、SHA512等）的计算和验证功能。该系统允许用户创建不同类型的哈希算法实例，并记录相应的哈希值，同时提供哈希字典管理功能。

## 系统架构

项目采用典型的Spring Boot三层架构：
- 控制层（Controller）：处理HTTP请求，接收和响应客户端数据
- 服务层（Service）：实现业务逻辑，处理数据处理和算法计算
- 持久层（Mapper）：与数据库交互，处理数据的持久化

### 技术栈

- 基础框架：Spring Boot 3.2.5
- 持久层：MyBatis-Plus 3.5.6
- 数据库：MySQL 8.0
- 工具库：Hutool 5.8.26


## 数据库设计

系统主要包含以下数据表：

### 用户表（user）
```sql
CREATE TABLE `MyCryptography`.`user` (
    `id`          BIGINT       NOT NULL PRIMARY KEY AUTO_INCREMENT,
    `role`        varchar(255) NOT NULL DEFAULT 'normal' COMMENT '角色',
    `username`    varchar(255) NOT NULL COMMENT '用户名',
    `password`    varchar(255) NOT NULL COMMENT '密码',
    `phone`       varchar(255) NOT NULL COMMENT '手机',
    `nickname`    varchar(255) NOT NULL COMMENT '昵称',
    `email`       varchar(255) NOT NULL COMMENT '邮箱',
    `avatar`      varchar(255) COMMENT '头像',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `update_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE = InnoDB COMMENT = '用户表';
```

### 哈希算法表（hash_arithmetic）
```sql
CREATE TABLE `MyCryptography`.`hash_arithmetic` (
    `id`          BIGINT       NOT NULL PRIMARY KEY AUTO_INCREMENT,
    `user_id`     BIGINT       NOT NULL  COMMENT '用户ID',
    `name`        varchar(1024) NOT NULL  COMMENT '名称',
    `keyword`     varchar(255) NOT NULL  COMMENT '算法名称',
    `create_time` datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE = InnoDB COMMENT = 'hash算法';
```

### 哈希字典表（hash_dict）
```sql
CREATE TABLE `MyCryptography`.`hash_dict` (
    `id`            BIGINT       NOT NULL PRIMARY KEY AUTO_INCREMENT,
    `arithmetic_id` BIGINT       NOT NULL COMMENT '算法ID',
    `hash_key`      varchar(1024) NOT NULL  COMMENT '',
    `hash_value`    varchar(1024) NOT NULL  COMMENT '',
    `desc`          varchar(1024) NOT NULL  COMMENT '描述',
    `create_time`   datetime     NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE = InnoDB COMMENT = '哈希字典';
```

## 系统设计图

### 系统架构图

```
+------------------+     +------------------+     +------------------+
|                  |     |                  |     |                  |
|  表示层（前端）   |<--->|  控制层（后端）   |<--->|  服务层（后端）   |
|                  |     |                  |     |                  |
+------------------+     +------------------+     +------------------+
                                                         |
                                                         |
                                                         v
                         +--------------------------------+
                         |                                |
                         |      持久层（数据库交互）       |
                         |                                |
                         +---------------+----------------+
                                         |
                                         |
                                         v
                                 +----------------+
                                 |                |
                                 |   MySQL数据库   |
                                 |                |
                                 +----------------+
```

### 核心数据流程图

```
+--------+    1.请求哈希计算     +------------+
|        |---------------------->|            |
| 客户端 |                       | Web服务器  |
|        |<----------------------|            |
+--------+    6.返回哈希结果     +------------+
                                      |
                                      | 2.验证请求合法性
                                      v
                             +----------------+
                             |                |
                             | 哈希算法服务   |
                             |                |
                             +----------------+
                                 |        ^
                  3.获取算法实例 |        | 4.调用对应哈希算法
                                 v        |
                         +--------------------+
                         |                    |
                         | DigestUtil工具类   |
                         | (MD5/SHA系列)      |
                         |                    |
                         +--------------------+
                                      |
                                      | 5.保存计算结果（可选）
                                      v
                                +------------+
                                |            |
                                | 数据库存储 |
                                |            |
                                +------------+
```

### 哈希算法处理流程图

```
           +--------------------+
           |                    |
           |  原始数据 (明文)   |
           |                    |
           +--------------------+
                     |
                     | 选择算法类型
                     v
           +--------------------+
           |                    |
           |    哈希算法选择    |
           |                    |
           +--------------------+
                /      |      \
               /       |       \
              v        v        v
+----------+  +----------+  +----------+  +----------+
|          |  |          |  |          |  |          |
|   MD5    |  |  SHA-1   |  | SHA-256  |  | SHA-512  |
|          |  |          |  |          |  |          |
+----------+  +----------+  +----------+  +----------+
      |            |            |            |
      |            |            |            |
      v            v            v            v
  32位哈希值    40位哈希值   64位哈希值   128位哈希值
      |            |            |            |
      +------------+------------+------------+
                     |
                     v
           +--------------------+
           |                    |
           |     哈希结果       |
           |     (密文)         |
           +--------------------+
                     |
                     | 可选操作
                     v
           +--------------------+
           |                    |
           |  哈希字典存储      |
           |                    |
           +--------------------+
```

### 类关系图

```
+-------------------+       +------------------+        +-------------------+
|                   |       |                  |        |                   |
| UserController    |------>| UserService      |------->| UserMapper        |
|                   |       |                  |        |                   |
+-------------------+       +------------------+        +-------------------+
                                     |
                                     |
                                     v
                            +------------------+        +-------------------+
                            |                  |        |                   |
                            | User实体         |<------>| 用户表            |
                            |                  |        |                   |
                            +------------------+        +-------------------+


+-------------------+       +------------------+        +-------------------+
|                   |       |                  |        |                   |
| HashController    |------>| HashService      |------->| HashArithmeticMapper|
|                   |       |                  |        |                   |
+-------------------+       +------------------+        +-------------------+
                                     |                            |
                                     |                            |
                                     v                            v
                            +------------------+        +-------------------+
                            |                  |        |                   |
                            | HashArithmetic实体|<------>| hash_arithmetic表 |
                            |                  |        |                   |
                            +------------------+        +-------------------+


                            +------------------+        +-------------------+
                            |                  |        |                   |
                            | HashService      |------->| HashDictMapper    |
                            |                  |        |                   |
                            +------------------+        +-------------------+
                                     |                            |
                                     |                            |
                                     v                            v
                            +------------------+        +-------------------+
                            |                  |        |                   |
                            | HashDict实体     |<------>| hash_dict表       |
                            |                  |        |                   |
                            +------------------+        +-------------------+
```

### 技术栈与组件关系图

```
+-------------------+   +-------------------+   +-------------------+
|                   |   |                   |   |                   |
| Spring Boot框架   |-->| Sa-Token权限认证  |-->| MyBatis-Plus ORM  |
|                   |   |                   |   |                   |
+-------------------+   +-------------------+   +-------------------+
          |                                              |
          v                                              v
+-------------------+                       +-------------------+
|                   |                       |                   |
| Hutool工具集      |                       | MySQL数据库        |
|                   |                       |                   |
+-------------------+                       +-------------------+
          |
          v
+-------------------+   +-------------------+   +-------------------+
|                   |   |                   |   |                   |
| DigestUtil        |-->| MD5算法实现       |   | SHA-1算法实现     |
|                   |   |                   |   |                   |
+-------------------+   +-------------------+   +-------------------+
                                |                       |
                                v                       v
                        +-------------------+   +-------------------+
                        |                   |   |                   |
                        | SHA-256算法实现   |   | SHA-512算法实现   |
                        |                   |   |                   |
                        +-------------------+   +-------------------+
```

### 用户界面流程图

```
+------------+         +----------------+         +----------------+
|            |         |                |         |                |
|  登录界面  |-------->|  主控制面板    |-------->| 哈希算法管理   |
|            |         |                |         |                |
+------------+         +----------------+         +----------------+
                              |                          |
                              |                          v
                              |                +-------------------+
                              |                |                   |
                              |                | 算法列表及操作    |
                              |                |                   |
                              |                +-------------------+
                              |
                              v
                      +----------------+         +----------------+
                      |                |         |                |
                      | 哈希字典管理   |-------->| 字典数据操作   |
                      |                |         |                |
                      +----------------+         +----------------+
                              |
                              v
                      +----------------+         +----------------+
                      |                |         |                |
                      | 即时哈希计算   |-------->| 算法选择与执行 |
                      |                |         |                |
                      +----------------+         +----------------+
                              |
                              v
                      +----------------+
                      |                |
                      | 结果验证与展示 |
                      |                |
                      +----------------+
``` 

## 主要加密算法实现

系统主要实现了以下哈希算法：

### MD5 (Message Digest Algorithm 5)

MD5是一种广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值，用于确保信息传输完整一致。

**算法特点**：
- 输出固定长度：128位（16字节），通常以32位16进制数表示
- 不可逆性：无法从哈希值反向推导出原始数据
- 计算速度快
- 抗碰撞性较弱（现已被认为不安全）

**应用场景**：
- 文件完整性校验
- 密码存储（不推荐，建议使用更安全的算法）
- 数据去重

### SHA-1 (Secure Hash Algorithm 1)

SHA-1是一种密码散列函数，生成一个160位（20字节）的散列值。

**算法特点**：
- 输出固定长度：160位（20字节），通常以40位16进制数表示
- 不可逆性：无法从哈希值反向推导出原始数据
- 抗碰撞性：比MD5更强，但仍被认为不足够安全
- 已被证明存在碰撞攻击

**应用场景**：
- 文件完整性校验
- 数字签名

### SHA-256 (Secure Hash Algorithm 256)

SHA-256是SHA-2家族中的一种算法，生成一个256位（32字节）的散列值。

**算法特点**：
- 输出固定长度：256位（32字节），通常以64位16进制数表示
- 不可逆性：无法从哈希值反向推导出原始数据
- 强抗碰撞性：目前尚未发现有效的碰撞攻击方法
- 计算速度适中

**应用场景**：
- 密码存储
- 数字签名
- 区块链
- 文件完整性校验

### SHA-512 (Secure Hash Algorithm 512)

SHA-512是SHA-2家族中的另一种算法，生成一个512位（64字节）的散列值。

**算法特点**：
- 输出固定长度：512位（64字节），通常以128位16进制数表示
- 不可逆性：无法从哈希值反向推导出原始数据
- 极强的抗碰撞性
- 计算复杂度高

**应用场景**：
- 高安全性需求的密码存储
- 数字签名
- 关键系统的安全认证

## 系统主要功能

1. **用户管理**
    - 用户注册、登录、修改信息
    - 密码重置
    - 用户权限控制

2. **哈希算法管理**
    - 创建新的哈希算法实例
    - 查询哈希算法列表
    - 删除哈希算法实例

3. **哈希字典管理**
    - 向指定算法添加哈希字典项
    - 查询哈希字典列表
    - 删除哈希字典项
    - 通过原文查询哈希值
    - 通过哈希值查询原文（如果存在）

4. **即时哈希计算**
    - 输入原文，选择算法类型，计算哈希值
    - 支持批量哈希计算
    - 哈希值对比验证

5. **其他辅助功能**
    - 验证码生成与验证



## 系统流程

### 哈希计算流程

1. 用户输入原始数据
2. 选择哈希算法类型（MD5/SHA1/SHA256/SHA512）
3. 系统调用相应算法对数据进行哈希计算
4. 返回计算结果
5. 可选择保存到哈希字典

### 哈希验证流程

1. 用户输入原始数据和声称的哈希值
2. 选择验证的哈希算法类型
3. 系统计算原始数据的哈希值
4. 比对计算结果与声称的哈希值
5. 返回验证结果

## 系统部署

1. 确保系统安装了JDK 17+、MySQL 8.0+
2. 创建数据库：`MyCryptography`
3. 执行SQL脚本：`sql/schema.sql`
4. 配置`application.yml`文件中的数据库连接信息
5. 通过Maven构建项目：`mvn clean package`
6. 运行项目：`java -jar MyCryptography-0.0.1-SNAPSHOT.jar`


## 项目总结

该项目实现了基本的密码学哈希算法功能，为用户提供了一个简单易用的哈希计算和管理平台。在实际应用中，可以根据需求扩展更多的加密算法和安全功能。

##### 开发中遇到的问题：
1. 如首页的统计数据。mybatis-plus遇到自定义数据模型时完成不了相关映射，最后导致查询不出来数据。
解决办法：增加映射关系，进行数据和模型的绑定映射。
